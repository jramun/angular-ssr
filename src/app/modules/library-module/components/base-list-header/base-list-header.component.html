<mat-progress-bar [style.opacity]="loading ? 1 : 0" mode="indeterminate"></mat-progress-bar>

<div class="flex items-center px-2 pb-2 pt-1">

  <button *ngIf="!hideAdd" mat-raised-button class="bg-green text-white m-2" (click)="onAdd.emit()">افزودن</button>

  <span class="flex-1"></span>

  <!-- form k submit mishe meghare tosh emit mishe toye on filter -->
  <form *ngIf="filter" [formGroup]="form" (ngSubmit)="onFilter.emit(form.value)">

    <mat-form-field class="w-300" appearance="legacy">
      <button mat-icon-button type="submit" matPrefix>
        <mat-icon>search</mat-icon>
      </button>
      <mat-label>
        <span>جستجو </span>
        <span *ngIf="field">({{field}})</span>
      </mat-label>
      <input matInput type="text" formControlName="search">
      <!-- vaghti serch mikone search ghabli reset mishe o meghdar jadide emit mishe
            yani dar vaghe khali mishe  -->
      <button mat-icon-button
              type="button"
              *ngIf="search.value"
              (click)="search.reset(); onFilter.emit(form.value);"
              matSuffix>
        <mat-icon>close</mat-icon>
      </button>
    </mat-form-field>

  </form>

</div>
